{% extends "capstone/layout.html" %}
{% load static %}

{% block body %}

{% block script %}

<script src="{% static 'capstone/main.js' %}"></script>

{% endblock %}

<br>
<h1 class="ps-3">{{ user.username }}'s Tracker</h1>
<br>
<hr>

<div class="container">
    <div class="row text-center">
        <div class="col">
            <h3>Games in Playlist:</h3>
        </div>
        <div class="col">
            <h3>Games Currently Playing:</h3>
        </div>
        <div class="col">
            <h3>Games Completed:</h3>
        </div>
        <div class="w-100"></div>
        <div class="col">
            <h3>{{ saved }}</h3>
        </div>
        <div class="col">
            <h3>{{ playing }}</h3>
        </div>
        <div class="col">
            <h3>{{ finished }}</h3>
        </div>
    </div>
</div>
<hr>

<div class="container">
    <div class="row text-center">
        
        <div class="col border border-secondary mx-3">
            <br>
            <h4>Playlist</h4>
            <hr>
            {% if present_in_playlist %}
                {% for game in playlist_items %}
                    {% if forloop.counter0|divisibleby:2 %}
                        <div class="row text-center">
                    {% endif %}
                            <div class="col mx-2">
                                <div class="card mb-3" style="width: 10rem; background-color:#8b8b8b">
                                    <br>
                                    <div class="text-center">
                                        <img src="{{ game.image }}" class="border border-3 border-dark" style="height: 100px; width: 100px;">
                                    </div>
                                    <div class="card-content">
                                        <a href="{% url 'game_view' game.title game.id %}"><h5>{{ game.title }}</h5></a>
                                        <br>
                                    </div>
                                </div>
                            </div>
                    {% if forloop.counter|divisibleby:2 or forloop.last %}
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <h6>No games in playlist!</h6>
            {% endif %}
        </div>
            
        <div class="col col border border-secondary mx-3">
            <br>
            <h4>Currently Playing</h4>
            <hr>
            <div class="container">
                {% if present_in_playinglist %}
                    {% for game in playinglist_items %}
                        {% if forloop.counter0|divisibleby:2 %}
                            <div class="row text-center">
                        {% endif %}
                                <div class="col">
                                    <div class="card mb-3" style="width: 10rem; background-color:#8b8b8b">
                                        <br>
                                        <div class="text-center">
                                            <img src="{{ game.image }}" class="border border-3 border-dark" style="height: 100px; width: 100px;">
                                        </div>
                                        <div class="card-content">
                                            <a href="{% url 'game_view' game.title game.id %}"><h5>{{ game.title }}</h5></a>
                                        </div>
                                    </div>
                                </div>
                        {% if forloop.counter|divisibleby:2 or forloop.last %}
                            </div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <h6>No games currently playing!</h6>
                {% endif %}
            </div>
        </div>

        <div class="col col border border-secondary mx-3">
            <br>
            <h4>Completed</h4>
            <hr>
            {% if present_in_playedlist %}
                {% for game in playedlist_items %}
                    {% if forloop.counter0|divisibleby:2 %}
                        <div class="row text-center">
                    {% endif %}
                            <div class="col mx-2">
                                <div class="card mb-3" style="width: 10rem; background-color:#8b8b8b">
                                    <br>
                                    <div class="text-center">
                                        <img src="{{ game.image }}" class="border border-3 border-dark" style="height: 100px; width: 100px;">
                                    </div>
                                    <div class="card-content">
                                        <a href="{% url 'game_view' game.title game.id %}"><h5>{{ game.title }}</h5></a>
                                    </div>
                                </div>
                            </div>
                    {% if forloop.counter|divisibleby:2 or forloop.last %}
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <h6>No games completed!</h6>
            {% endif %}
        </div>
        
    </div>
</div>
<br>
<br>

{% endblock %}